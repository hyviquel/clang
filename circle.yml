# circle.yml
machine:
  environment:
    LLVM_SRC: "$HOME/llvm"
    CLANG_SRC: "$HOME/clang"

dependencies:
  pre:
    - git clone --depth 1 git://github.com/ompcloud/llvm.git $LLVM_SRC

test:
  pre:
    - cmake -DCLANG_PATH_TO_LLVM_SOURCE=$LLVM_SRC $CLANG_SRC
  post:
    - make clang-test
